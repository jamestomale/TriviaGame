<!DOCTYPE html> 
<head> 
<meta name="viewport" content="width=device-width, initial-scale=1"> 
<title>Random questions</title> 
</head> 
<body> 
<div> 
 <h1 id="timeleft"></h1> 
 <h2 id="test_status"></h2> 
	<h3 id="test"></h3> 
</div> 
 <div id="answer"></div> 

<script> 
var myVar; 
function startTimer() { 
  myVar = setInterval(function(){myTimer()},1000); 
  timelimit = maxtimelimit; 
} 
function myTimer() { 
  if (timelimit > 0) { 
    curmin=Math.floor(timelimit/60); 
    cursec=timelimit%60; 
    if (curmin!=0) { curtime=curmin +cursec; } 
              else { curtime=cursec; } 
    $_GET('timeleft').innerHTML = "00:0"+curtime; 
  } else { 
    //	$_GET('timeleft').innerHTML = timelimit+' - Out of Time'; 
	//	clearInterval(myVar); 
    checkAnswer(); 
  } 
  timelimit--; 
}


var pos = 0, posn, choice, correct = 0, rscore = 0; 
var maxtimelimit = 5, timelimit = maxtimelimit;  // 20 seconds per question 

var questions = [ 
    [ "What is 8+6?", "12", "14", "16", "B" ], 
    [ "What is 20 - 9?", "7", "13", "11", "C" ], 
    [ "What is 7 x 3?", "21", "24", "25", "A" ], 
    [ "What is 8 / 2?", "10", "2", "4", "C" ], 
    [ "What is 8 ^ 2?", "8", "2", "64", "C" ], 
    [ "What is 8 mod 2?", "0", "1", "4", "A" ], 
    [ "What is 6 + 4 + 2?", "12", "14", "16", "A" ], 
    [ "What is 20 - 7?", "7", "13", "11", "B" ], 
    [ "What is 5 x 5?", "21", "24", "25", "C" ], 
    [ "What is 8 / 4?", "10", "2", "4", "B" ] 
]; 
var questionOrder = []; 
function setQuestionOrder() { 
  questionOrder.length = 0; 
  for (var i=0; i<questions.length; i++) { questionOrder.push(i); } 
  questionOrder.sort(randOrd);   // alert(questionOrder);  // shuffle display order 
  pos = 0;  posn = questionOrder[pos]; 
} 

function $_GET(IDS) { return document.getElementById(IDS); } 
function randOrd() { return (Math.round(Math.random())-0.5); }  


function renderQuestion() { 
  var test = $_GET("test"); 
  $_GET("test_status").innerHTML = "Question "+(pos+1)+" of "+questions.length; 
  //	if (rscore != 0) { $_GET("test_status").innerHTML += '<br>Currently: '+(correct/rscore*100).toFixed(0)+'% correct'; } 
  var question = questions[posn][0]; 
  var chA = questions[posn][1]; 
  var chB = questions[posn][2]; 
  var chC = questions[posn][3]; 
  test.innerHTML = "<h2>"+question+"</h2>"; 
  test.innerHTML += "<label><input type='radio' name='choices' value='A'> "+chA+"</label><br>"; 
  test.innerHTML += "<label><input type='radio' name='choices' value='B'> "+chB+"</label><br>"; 
  test.innerHTML += "<label><input type='radio' name='choices' value='C'> "+chC+"</label><br><br>"; 
  	test.innerHTML += "<button onclick='checkAnswer()' id='btncheck'>Check Answer</button>"; 
  timelimit = maxtimelimit; 
  clearInterval(myVar); 
  startTimer(); 
} 

function checkAnswer(){ 
	var answer = $_GET("answer");
	var btn = $_GET("btncheck");
	var choices = document.getElementsByName("choices"); 
	for (var i=0; i<choices.length; i++) { 
	if (choices[i].checked) { choice = choices[i].value; } 
	}
	rscore++; 
	if (choice == questions[posn][4] && timelimit > 0) { correct++; } 

if (choice == questions[posn][4] || choice != questions[posn][4]){
	btn.style.visibility="hidden";
	answer.style.visibility="visible";
	answer.innerHTML = "<h3><code>Answer : "+questions[posn][4] +"</code><br /></h3>";
	answer.innerHTML += "<button onclick='proceed()'>Continue</button>"; 
	}
} 


function proceed() {
	var answer = $_GET("answer");
	var btn = $_GET("btncheck");
	answer.style.visibility="hidden";
	btn.style.visibility="visible";
	pos++;  posn = questionOrder[pos];
	if (pos < questions.length) { renderQuestion(); } else { renderResults(); } 
	}

function renderResults(){ 
  var test = $_GET("test"); 
  test.innerHTML = "<h2>You got "+correct+" of "+questions.length+" questions correct</h2>"; 
  $_GET("test_status").innerHTML = "Test Completed"; 
  $_GET('timeleft').innerHTML = ''; 
  test.innerHTML += '<button onclick="location.reload()">Re-test</button>'; 
  setQuestionOrder(); 
  correct = 0; 
  clearInterval(myVar); 
  return false; 
} 

window.onload = function() { 
  setQuestionOrder(); 
  renderQuestion(pos); 
} 
</script> 

</body> 
</html>  